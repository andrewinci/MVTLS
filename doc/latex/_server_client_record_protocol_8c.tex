\hypertarget{_server_client_record_protocol_8c}{}\section{/\+Users/\+Darka/\+Dropbox/\+U\+N\+I\+T\+N/\+Advanced\+Programming/\+Project/src/\+Server\+Client\+Record\+Protocol.c File Reference}
\label{_server_client_record_protocol_8c}\index{/\+Users/\+Darka/\+Dropbox/\+U\+N\+I\+T\+N/\+Advanced\+Programming/\+Project/src/\+Server\+Client\+Record\+Protocol.\+c@{/\+Users/\+Darka/\+Dropbox/\+U\+N\+I\+T\+N/\+Advanced\+Programming/\+Project/src/\+Server\+Client\+Record\+Protocol.\+c}}
{\ttfamily \#include \char`\"{}Server\+Client\+Record\+Protocol.\+h\char`\"{}}\\*
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{_server_client_record_protocol_8c_af281a53bbcd83ad0887baf01e13a752e}{serialize\+\_\+record} (\hyperlink{structrecord__t}{record\+\_\+t} $\ast$r, unsigned char $\ast$$\ast$message, uint16\+\_\+t $\ast$message\+Len)
\item 
\hyperlink{structrecord__t}{record\+\_\+t} $\ast$ \hyperlink{_server_client_record_protocol_8c_ae84b228db8fb2f706c75f1e8d41a06b2}{deserialize\+\_\+record} (unsigned char $\ast$message, uint32\+\_\+t message\+Len)
\item 
int \hyperlink{_server_client_record_protocol_8c_af6d567da41101c7003cb9277aba9ec4e}{send\+\_\+record} (\hyperlink{structchannel__t}{channel\+\_\+t} $\ast$ch, \hyperlink{structrecord__t}{record\+\_\+t} $\ast$r)
\item 
void \hyperlink{_server_client_record_protocol_8c_a5029bcdf9f7eb874b25136b76e41963c}{print\+\_\+record} (\hyperlink{structrecord__t}{record\+\_\+t} $\ast$r)
\item 
void \hyperlink{_server_client_record_protocol_8c_a9212df7db09a62df2f7d4a913f04defc}{free\+\_\+record} (\hyperlink{structrecord__t}{record\+\_\+t} $\ast$r)
\end{DoxyCompactItemize}


\subsection{Function Documentation}
\index{Server\+Client\+Record\+Protocol.\+c@{Server\+Client\+Record\+Protocol.\+c}!deserialize\+\_\+record@{deserialize\+\_\+record}}
\index{deserialize\+\_\+record@{deserialize\+\_\+record}!Server\+Client\+Record\+Protocol.\+c@{Server\+Client\+Record\+Protocol.\+c}}
\subsubsection[{\texorpdfstring{deserialize\+\_\+record(unsigned char $\ast$message, uint32\+\_\+t message\+Len)}{deserialize_record(unsigned char *message, uint32_t messageLen)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf record\+\_\+t}$\ast$ deserialize\+\_\+record (
\begin{DoxyParamCaption}
\item[{unsigned char $\ast$}]{message, }
\item[{uint32\+\_\+t}]{message\+\_\+len}
\end{DoxyParamCaption}
)}\hypertarget{_server_client_record_protocol_8c_ae84b228db8fb2f706c75f1e8d41a06b2}{}\label{_server_client_record_protocol_8c_ae84b228db8fb2f706c75f1e8d41a06b2}
De-\/serialize a byte stream message of length message\+\_\+len into a record struct.


\begin{DoxyParams}{Parameters}
{\em message} & \+: message received \\
\hline
{\em message\+Len} & \+: message length \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
record \+: the de-\/serialized record 
\end{DoxyReturn}


Referenced by on\+Packet\+Receive().

\index{Server\+Client\+Record\+Protocol.\+c@{Server\+Client\+Record\+Protocol.\+c}!free\+\_\+record@{free\+\_\+record}}
\index{free\+\_\+record@{free\+\_\+record}!Server\+Client\+Record\+Protocol.\+c@{Server\+Client\+Record\+Protocol.\+c}}
\subsubsection[{\texorpdfstring{free\+\_\+record(record\+\_\+t $\ast$r)}{free_record(record_t *r)}}]{\setlength{\rightskip}{0pt plus 5cm}void free\+\_\+record (
\begin{DoxyParamCaption}
\item[{{\bf record\+\_\+t} $\ast$}]{r}
\end{DoxyParamCaption}
)}\hypertarget{_server_client_record_protocol_8c_a9212df7db09a62df2f7d4a913f04defc}{}\label{_server_client_record_protocol_8c_a9212df7db09a62df2f7d4a913f04defc}
Deallocate memory pointed by r 
\begin{DoxyParams}{Parameters}
{\em r} & \+: pointer to record to free \\
\hline
\end{DoxyParams}


Referenced by on\+Packet\+Receive(), and send\+\_\+handshake().

\index{Server\+Client\+Record\+Protocol.\+c@{Server\+Client\+Record\+Protocol.\+c}!print\+\_\+record@{print\+\_\+record}}
\index{print\+\_\+record@{print\+\_\+record}!Server\+Client\+Record\+Protocol.\+c@{Server\+Client\+Record\+Protocol.\+c}}
\subsubsection[{\texorpdfstring{print\+\_\+record(record\+\_\+t $\ast$r)}{print_record(record_t *r)}}]{\setlength{\rightskip}{0pt plus 5cm}void print\+\_\+record (
\begin{DoxyParamCaption}
\item[{{\bf record\+\_\+t} $\ast$}]{r}
\end{DoxyParamCaption}
)}\hypertarget{_server_client_record_protocol_8c_a5029bcdf9f7eb874b25136b76e41963c}{}\label{_server_client_record_protocol_8c_a5029bcdf9f7eb874b25136b76e41963c}
Print a description of the record 

Referenced by on\+Packet\+Receive().

\index{Server\+Client\+Record\+Protocol.\+c@{Server\+Client\+Record\+Protocol.\+c}!send\+\_\+record@{send\+\_\+record}}
\index{send\+\_\+record@{send\+\_\+record}!Server\+Client\+Record\+Protocol.\+c@{Server\+Client\+Record\+Protocol.\+c}}
\subsubsection[{\texorpdfstring{send\+\_\+record(channel\+\_\+t $\ast$ch, record\+\_\+t $\ast$r)}{send_record(channel_t *ch, record_t *r)}}]{\setlength{\rightskip}{0pt plus 5cm}int send\+\_\+record (
\begin{DoxyParamCaption}
\item[{{\bf channel\+\_\+t} $\ast$}]{ch, }
\item[{{\bf record\+\_\+t} $\ast$}]{to\+\_\+send}
\end{DoxyParamCaption}
)}\hypertarget{_server_client_record_protocol_8c_af6d567da41101c7003cb9277aba9ec4e}{}\label{_server_client_record_protocol_8c_af6d567da41101c7003cb9277aba9ec4e}
Send record to\+\_\+send over the channel ch. Note \+:for send record is important to set \textquotesingle{}to\textquotesingle{} and \textquotesingle{}from\textquotesingle{} in the channel creation.


\begin{DoxyParams}{Parameters}
{\em ch} & \+: channel to use \\
\hline
{\em to\+\_\+send} & \+: record to send \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
1 if the message was successfully sent, 0 otherwise 
\end{DoxyReturn}


Referenced by on\+Packet\+Receive(), and send\+\_\+handshake().

\index{Server\+Client\+Record\+Protocol.\+c@{Server\+Client\+Record\+Protocol.\+c}!serialize\+\_\+record@{serialize\+\_\+record}}
\index{serialize\+\_\+record@{serialize\+\_\+record}!Server\+Client\+Record\+Protocol.\+c@{Server\+Client\+Record\+Protocol.\+c}}
\subsubsection[{\texorpdfstring{serialize\+\_\+record(record\+\_\+t $\ast$r, unsigned char $\ast$$\ast$message, uint16\+\_\+t $\ast$message\+Len)}{serialize_record(record_t *r, unsigned char **message, uint16_t *messageLen)}}]{\setlength{\rightskip}{0pt plus 5cm}void serialize\+\_\+record (
\begin{DoxyParamCaption}
\item[{{\bf record\+\_\+t} $\ast$}]{r, }
\item[{unsigned char $\ast$$\ast$}]{message, }
\item[{uint16\+\_\+t $\ast$}]{message\+\_\+len}
\end{DoxyParamCaption}
)}\hypertarget{_server_client_record_protocol_8c_af281a53bbcd83ad0887baf01e13a752e}{}\label{_server_client_record_protocol_8c_af281a53bbcd83ad0887baf01e13a752e}
Serialize record in a byte stream of length message\+\_\+len stored in message.


\begin{DoxyParams}{Parameters}
{\em message} & \+: pointer to null (the function allocate space for you) \\
\hline
{\em message\+Len} & \+: pointer to integer (will contains the message length) \\
\hline
\end{DoxyParams}


Referenced by print\+\_\+record(), and send\+\_\+record().


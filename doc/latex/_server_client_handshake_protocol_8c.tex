\hypertarget{_server_client_handshake_protocol_8c}{}\section{src/\+Server\+Client\+Handshake\+Protocol.c File Reference}
\label{_server_client_handshake_protocol_8c}\index{src/\+Server\+Client\+Handshake\+Protocol.\+c@{src/\+Server\+Client\+Handshake\+Protocol.\+c}}
{\ttfamily \#include \char`\"{}Server\+Client\+Handshake\+Protocol.\+h\char`\"{}}\\*
Include dependency graph for Server\+Client\+Handshake\+Protocol.\+c\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{_server_client_handshake_protocol_8c__incl}
\end{center}
\end{figure}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{structrecord__t}{record\+\_\+t} $\ast$ \hyperlink{_server_client_handshake_protocol_8c_a2a71bd64c9b8261f56b53d422384c620}{make\+\_\+record} (\hyperlink{structhandshake__t}{handshake\+\_\+t} $\ast$h)
\item 
int \hyperlink{_server_client_handshake_protocol_8c_a630be726ff62f89c4287fa0feb6e3801}{send\+\_\+handshake} (\hyperlink{structchannel__t}{channel\+\_\+t} $\ast$ch, \hyperlink{structhandshake__t}{handshake\+\_\+t} $\ast$h)
\item 
void \hyperlink{_server_client_handshake_protocol_8c_a1f9226db59b1fe4f860122d082429f78}{serialize\+\_\+handshake} (\hyperlink{structhandshake__t}{handshake\+\_\+t} $\ast$h, unsigned char $\ast$$\ast$stream, uint32\+\_\+t $\ast$stream\+Len)
\item 
\hyperlink{structhandshake__t}{handshake\+\_\+t} $\ast$ \hyperlink{_server_client_handshake_protocol_8c_a9f902224a1dcf6201a60941914a0fb2d}{deserialize\+\_\+handshake} (unsigned char $\ast$message, uint32\+\_\+t message\+Len)
\item 
void \hyperlink{_server_client_handshake_protocol_8c_a17a2f489bf364bdd80fbd20d186f927e}{print\+\_\+handshake} (\hyperlink{structhandshake__t}{handshake\+\_\+t} $\ast$h, int verbosity, \hyperlink{_t_l_s_constants_8h_a7203e83530e35d8ed2f3300ba0408a54}{key\+\_\+exchange\+\_\+algorithm} kx)
\item 
void \hyperlink{_server_client_handshake_protocol_8c_a5b7a13680988ecee1fd6c0a8dfe32eef}{free\+\_\+handshake} (\hyperlink{structhandshake__t}{handshake\+\_\+t} $\ast$h)
\end{DoxyCompactItemize}


\subsection{Function Documentation}
\index{Server\+Client\+Handshake\+Protocol.\+c@{Server\+Client\+Handshake\+Protocol.\+c}!deserialize\+\_\+handshake@{deserialize\+\_\+handshake}}
\index{deserialize\+\_\+handshake@{deserialize\+\_\+handshake}!Server\+Client\+Handshake\+Protocol.\+c@{Server\+Client\+Handshake\+Protocol.\+c}}
\subsubsection[{\texorpdfstring{deserialize\+\_\+handshake(unsigned char $\ast$message, uint32\+\_\+t message\+Len)}{deserialize_handshake(unsigned char *message, uint32_t messageLen)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf handshake\+\_\+t}$\ast$ deserialize\+\_\+handshake (
\begin{DoxyParamCaption}
\item[{unsigned char $\ast$}]{message, }
\item[{uint32\+\_\+t}]{message\+Len}
\end{DoxyParamCaption}
)}\hypertarget{_server_client_handshake_protocol_8c_a9f902224a1dcf6201a60941914a0fb2d}{}\label{_server_client_handshake_protocol_8c_a9f902224a1dcf6201a60941914a0fb2d}
De-\/serialize a stream of byte into an handshake.


\begin{DoxyParams}{Parameters}
{\em message} & \+: the serialized handshake \\
\hline
{\em message\+Len} & \+: the message length \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
alloc and return an handshake struct 
\end{DoxyReturn}


Referenced by on\+Packet\+Receive().



Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{_server_client_handshake_protocol_8c_a9f902224a1dcf6201a60941914a0fb2d_icgraph}
\end{center}
\end{figure}


\index{Server\+Client\+Handshake\+Protocol.\+c@{Server\+Client\+Handshake\+Protocol.\+c}!free\+\_\+handshake@{free\+\_\+handshake}}
\index{free\+\_\+handshake@{free\+\_\+handshake}!Server\+Client\+Handshake\+Protocol.\+c@{Server\+Client\+Handshake\+Protocol.\+c}}
\subsubsection[{\texorpdfstring{free\+\_\+handshake(handshake\+\_\+t $\ast$h)}{free_handshake(handshake_t *h)}}]{\setlength{\rightskip}{0pt plus 5cm}void free\+\_\+handshake (
\begin{DoxyParamCaption}
\item[{{\bf handshake\+\_\+t} $\ast$}]{h}
\end{DoxyParamCaption}
)}\hypertarget{_server_client_handshake_protocol_8c_a5b7a13680988ecee1fd6c0a8dfe32eef}{}\label{_server_client_handshake_protocol_8c_a5b7a13680988ecee1fd6c0a8dfe32eef}
Delloc memory of handshake struct


\begin{DoxyParams}{Parameters}
{\em h} & \+: the handshake to free \\
\hline
\end{DoxyParams}


Referenced by do\+\_\+handshake(), and on\+Packet\+Receive().



Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{_server_client_handshake_protocol_8c_a5b7a13680988ecee1fd6c0a8dfe32eef_icgraph}
\end{center}
\end{figure}


\index{Server\+Client\+Handshake\+Protocol.\+c@{Server\+Client\+Handshake\+Protocol.\+c}!make\+\_\+record@{make\+\_\+record}}
\index{make\+\_\+record@{make\+\_\+record}!Server\+Client\+Handshake\+Protocol.\+c@{Server\+Client\+Handshake\+Protocol.\+c}}
\subsubsection[{\texorpdfstring{make\+\_\+record(handshake\+\_\+t $\ast$h)}{make_record(handshake_t *h)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf record\+\_\+t}$\ast$ make\+\_\+record (
\begin{DoxyParamCaption}
\item[{{\bf handshake\+\_\+t} $\ast$}]{h}
\end{DoxyParamCaption}
)}\hypertarget{_server_client_handshake_protocol_8c_a2a71bd64c9b8261f56b53d422384c620}{}\label{_server_client_handshake_protocol_8c_a2a71bd64c9b8261f56b53d422384c620}
Given an handshake encapsulate it in an record packet of type H\+A\+N\+D\+S\+H\+A\+KE and version T\+L\+S1\+\_\+2.


\begin{DoxyParams}{Parameters}
{\em h} & \+: handshake to encapsulate \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the record that encapsulate h 
\end{DoxyReturn}


Referenced by send\+\_\+handshake().



Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=300pt]{_server_client_handshake_protocol_8c_a2a71bd64c9b8261f56b53d422384c620_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{_server_client_handshake_protocol_8c_a2a71bd64c9b8261f56b53d422384c620_icgraph}
\end{center}
\end{figure}


\index{Server\+Client\+Handshake\+Protocol.\+c@{Server\+Client\+Handshake\+Protocol.\+c}!print\+\_\+handshake@{print\+\_\+handshake}}
\index{print\+\_\+handshake@{print\+\_\+handshake}!Server\+Client\+Handshake\+Protocol.\+c@{Server\+Client\+Handshake\+Protocol.\+c}}
\subsubsection[{\texorpdfstring{print\+\_\+handshake(handshake\+\_\+t $\ast$h, int verbosity, key\+\_\+exchange\+\_\+algorithm kx)}{print_handshake(handshake_t *h, int verbosity, key_exchange_algorithm kx)}}]{\setlength{\rightskip}{0pt plus 5cm}void print\+\_\+handshake (
\begin{DoxyParamCaption}
\item[{{\bf handshake\+\_\+t} $\ast$}]{h, }
\item[{int}]{verbosity, }
\item[{{\bf key\+\_\+exchange\+\_\+algorithm}}]{kx}
\end{DoxyParamCaption}
)}\hypertarget{_server_client_handshake_protocol_8c_a17a2f489bf364bdd80fbd20d186f927e}{}\label{_server_client_handshake_protocol_8c_a17a2f489bf364bdd80fbd20d186f927e}
Print the handshake struct


\begin{DoxyParams}{Parameters}
{\em h} & \+: handshake to print \\
\hline
{\em verbosity} & \+: how many detail to print (0 none, 1 the binary, 2 details,3 record) \\
\hline
{\em kx} & \+: the key exchange algorithm, useful in key\+\_\+echange messages \\
\hline
\end{DoxyParams}


Referenced by do\+\_\+handshake(), and on\+Packet\+Receive().



Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{_server_client_handshake_protocol_8c_a17a2f489bf364bdd80fbd20d186f927e_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{_server_client_handshake_protocol_8c_a17a2f489bf364bdd80fbd20d186f927e_icgraph}
\end{center}
\end{figure}


\index{Server\+Client\+Handshake\+Protocol.\+c@{Server\+Client\+Handshake\+Protocol.\+c}!send\+\_\+handshake@{send\+\_\+handshake}}
\index{send\+\_\+handshake@{send\+\_\+handshake}!Server\+Client\+Handshake\+Protocol.\+c@{Server\+Client\+Handshake\+Protocol.\+c}}
\subsubsection[{\texorpdfstring{send\+\_\+handshake(channel\+\_\+t $\ast$ch, handshake\+\_\+t $\ast$h)}{send_handshake(channel_t *ch, handshake_t *h)}}]{\setlength{\rightskip}{0pt plus 5cm}int send\+\_\+handshake (
\begin{DoxyParamCaption}
\item[{{\bf channel\+\_\+t} $\ast$}]{ch, }
\item[{{\bf handshake\+\_\+t} $\ast$}]{h}
\end{DoxyParamCaption}
)}\hypertarget{_server_client_handshake_protocol_8c_a630be726ff62f89c4287fa0feb6e3801}{}\label{_server_client_handshake_protocol_8c_a630be726ff62f89c4287fa0feb6e3801}
Send an handshake through a channel


\begin{DoxyParams}{Parameters}
{\em ch} & \+: the channel to use \\
\hline
{\em h} & \+: the handshake to send \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
1 if the send is success, 0 otherwise 
\end{DoxyReturn}


Referenced by do\+\_\+handshake(), and on\+Packet\+Receive().



Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{_server_client_handshake_protocol_8c_a630be726ff62f89c4287fa0feb6e3801_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{_server_client_handshake_protocol_8c_a630be726ff62f89c4287fa0feb6e3801_icgraph}
\end{center}
\end{figure}


\index{Server\+Client\+Handshake\+Protocol.\+c@{Server\+Client\+Handshake\+Protocol.\+c}!serialize\+\_\+handshake@{serialize\+\_\+handshake}}
\index{serialize\+\_\+handshake@{serialize\+\_\+handshake}!Server\+Client\+Handshake\+Protocol.\+c@{Server\+Client\+Handshake\+Protocol.\+c}}
\subsubsection[{\texorpdfstring{serialize\+\_\+handshake(handshake\+\_\+t $\ast$h, unsigned char $\ast$$\ast$stream, uint32\+\_\+t $\ast$stream\+Len)}{serialize_handshake(handshake_t *h, unsigned char **stream, uint32_t *streamLen)}}]{\setlength{\rightskip}{0pt plus 5cm}void serialize\+\_\+handshake (
\begin{DoxyParamCaption}
\item[{{\bf handshake\+\_\+t} $\ast$}]{h, }
\item[{unsigned char $\ast$$\ast$}]{stream, }
\item[{uint32\+\_\+t $\ast$}]{stream\+Len}
\end{DoxyParamCaption}
)}\hypertarget{_server_client_handshake_protocol_8c_a1f9226db59b1fe4f860122d082429f78}{}\label{_server_client_handshake_protocol_8c_a1f9226db59b1fe4f860122d082429f78}
Serialize a handshake into a byte stream


\begin{DoxyParams}{Parameters}
{\em h} & \+: the handshake to serialize \\
\hline
{\em stream} & \+: a pointer to N\+U\+LL, it will filled with the serialized handshake \\
\hline
{\em stream\+Len} & \+: the length of the serialized message \\
\hline
\end{DoxyParams}


Referenced by backup\+\_\+handshake(), make\+\_\+record(), and print\+\_\+handshake().



Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{_server_client_handshake_protocol_8c_a1f9226db59b1fe4f860122d082429f78_icgraph}
\end{center}
\end{figure}


